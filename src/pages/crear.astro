---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { ClientRouter } from 'astro:transitions';
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Creador IA - Plantillas Personalizadas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <ClientRouter />
    <style>
      :root {
        --glass-bg: rgba(255, 255, 255, 0.8);
        --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      }

      body {
        background-color: #f8fafc;
        font-family: 'Inter', sans-serif;
      }

      .ai-container {
        max-width: 900px;
        margin: 2rem auto 4rem auto; /* Ajustado para el ad superior */
      }

      .glass-card {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(226, 232, 240, 0.8);
        border-radius: 1.5rem;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        padding: 2.5rem;
      }

      /* Estilos para los espacios de AdSense */
      .ad-slot {
        background: rgba(241, 245, 249, 0.5);
        border: 1px dashed #cbd5e1;
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #94a3b8;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        overflow: hidden;
        margin: 1.5rem 0;
      }

      .ad-top { width: 100%; height: 90px; margin-bottom: 2rem; }
      .ad-sidebar { width: 100%; height: 250px; }
      .ad-bottom { width: 100%; height: 200px; margin-top: 3rem; }

      .step-badge {
        background: var(--primary-gradient);
        color: white;
        width: 28px;
        height: 28px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 0.8rem;
        margin-right: 10px;
      }

      .form-label {
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 0.75rem;
      }

      .custom-input, .custom-select {
        border: 2px solid #e2e8f0;
        border-radius: 1rem;
        padding: 0.75rem 1rem;
        transition: all 0.2s ease;
      }

      .custom-input:focus, .custom-select:focus {
        border-color: #6366f1;
        box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        outline: none;
      }

      .btn-generate {
        background: var(--primary-gradient);
        border: none;
        color: white;
        padding: 1rem 2rem;
        border-radius: 1rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .btn-generate:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.4);
      }

      .how-it-works {
        background: #f1f5f9;
        border-radius: 1rem;
        padding: 2rem;
        margin-top: 3rem;
      }

      .step-item {
        border-left: 2px dashed #cbd5e1;
        padding-left: 1.5rem;
        position: relative;
        margin-bottom: 1.5rem;
      }

      .step-item:last-child { margin-bottom: 0; }
    </style>
  </head>
  <body>
    <Header />

    <main class="container ai-container">
      <div class="ad-slot ad-top">
        Publicidad - Espacio para Banner
      </div>

      <div class="text-center mb-5">
        <h1 class="display-5 fw-bold text-dark">Creador de Plantillas <span class="text-primary">IA</span></h1>
        <p class="lead text-secondary">Describe lo que necesitas y nuestra inteligencia artificial diseñará la estructura por ti.</p>
      </div>

      <div class="row g-4" >
        <div class="col-lg-8"> 
          <div class="glass-card" style="height: 100%;">
            <div class="row g-4">
              <div class="col-md-6">
                <label class="form-label"><span class="step-badge">1</span> Selecciona el formato</label>
                <select class="form-select custom-select">
                  <option selected>Elegir formato...</option>
                  <option value="pdf">Documento PDF</option>
                  <option value="excel">Hoja de Excel (.xlsx)</option>
                  <option value="word">Documento Word (.docx)</option>
                </select>
              </div>
              
              <div class="col-md-6">
                <label class="form-label"><span class="step-badge">2</span> Tipo de plantilla</label>
                <select class="form-select custom-select">
                  <option selected>Elegir categoría...</option>
                  <option value="negocios">Negocios</option>
                  <option value="curriculums">Curriculums</option>
                  <option value="organizacion">Organización</option>
                  <option value="finanzas">Finanzas</option>
                </select>
              </div>

              <div class="col-12">
                <label class="form-label"><span class="step-badge">3</span> ¿Qué debe incluir tu plantilla?</label>
                <textarea 
                  class="form-control custom-input" 
                  rows="8" 
                  placeholder="Ej: Necesito una plantilla de presupuesto para una empresa de reformas..."></textarea>
              </div>

              <label class="h6 text-danger d-none error">Rellene todos los campos</label>

              <div class="col-12 text-center mt-4">
                <button class="btn btn-generate w-100">
                  Generar Plantilla Personalizada
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="ad-slot ad-sidebar">
            Publicidad Lateral
          </div>
          <div class="ad-slot ad-sidebar mt-4">
            Anuncio Secundario
          </div>
        </div>
      </div>

      <div class="how-it-works shadow-sm">
        <h3 class="h5 fw-bold mb-4 d-flex align-items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-info-circle me-2" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
          </svg>
          ¿Cómo funciona el generador?
        </h3>
        <div class="row">
          <div class="col-md-4">
            <div class="step-item">
              <p class="mb-1 fw-bold text-dark">Procesamiento del Prompt</p>
              <p class="small text-secondary mb-0">Nuestra IA analiza tus requisitos técnicos para entender campos y fórmulas necesarias.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="step-item">
              <p class="mb-1 fw-bold text-dark">Estructuración de Datos</p>
              <p class="small text-secondary mb-0">Se crea un esquema dinámico organizado de manera profesional.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="step-item">
              <p class="mb-1 fw-bold text-dark">Generación y Descarga</p>
              <p class="small text-secondary mb-0">Recibirás un archivo listo para usar y totalmente editable.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="ad-slot ad-bottom">
        Publicidad - Espacio para Banner Inferior
      </div>
    </main>

    <Footer />

    <script>
      import { manejarGeneracion } from '../scripts/generadorIA.js';
      document.addEventListener('astro:page-load', () => {
        manejarGeneracion();
      });
    </script>
  </body>
</html>